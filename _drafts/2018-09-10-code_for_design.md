---
layout: post
title: 浅谈代码设计中的一些简单规范
---

### {{ page.title  }}

> 最近接手了一个项目，让我的脑壳非常的疼，这个项目本身的逻辑并不复杂，
但是由于一些设计的不当，导致这个项目维护起来非常的费劲。所以就想借此机会聊一些
关于代码的设计规范。

> 首先，代码风格上面，最好还是需要每个团队都保持统一的风控，否则每个人的代码
review起来会非常的头疼。

> 其次，有一些很简单的设计原则需要遵守，比如对唯一键的约束。这个虽然看起来不是
大问题，但是在实际中，往往会有非常大的麻烦，比如我这次在接手的项目中遇到的坑：
一个唯一的类型数据，结果，在唯一键的依赖上，完全依靠mysql的自增ID，这样导致的
问题就是，在不同的环境中，如alpha，beta，prod，分别对应的是不同的id对应相同的
类型，如果外部依赖这个数据，就需要在不同环境，修改成不同的id，但是他们的name确
是相同的。

> 再次，代码的封装性问题。在代码reveiw的过程中，经常看到有的同学一个函数写满屏，
非常多的功能写在一个函数里面。在函数级别，我们也要保证一个函数完成一个单一的功
能，需要复杂的功能的话，就由多个简单的功能的函数进行组合。

> 最后，在代码review的过程中，要对这种代码坚决说不，要求修改之后才能review通过，
否则代码会不断地恶化，导致维护起来困难重重。

